(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{217:function(e,t,n){"use strict";n.r(t);var r=n(230),o=n(216),c=n(40),d=n(490),l=n(491),f=n(213),v=n(489),m=n(475),h=(n(27),n(16)),w=(n(74),{name:"CreateEventDialog",props:{persistent:{type:Boolean,default:!1},show:{type:Boolean,default:!1}},data:function(){return{addEventDialog:this.show,valid:!1,name:"",password:"",passwordVisible:!1}},methods:{save:function(){var e=this;return Object(h.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("event/addEvent",{name:e.name,password:e.password});case 2:if(!0!==(n=t.sent)){t.next=6;break}return window.location.reload(!0),t.abrupt("return");case 6:alert(n);case 7:case"end":return t.stop()}}),t)})))()}}}),x=n(85),component=Object(x.a)(w,(function(){var e=this,t=e._self._c;return t(d.a,{attrs:{"max-width":"400",persistent:e.persistent},scopedSlots:e._u([{key:"activator",fn:function(n){var o=n.on,c=n.attrs;return[t(r.a,e._g(e._b({attrs:{color:"primary"}},"v-btn",c,!1),o),[t(f.a,[e._v("mdi-plus")]),e._v("\n      Add new event\n    ")],1)]}}]),model:{value:e.addEventDialog,callback:function(t){e.addEventDialog=t},expression:"addEventDialog"}},[e._v(" "),t(o.a,[t(l.a,{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.save.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(c.d,[e._v("\n        New event\n      ")]),e._v(" "),t(c.c,[t(m.a,{staticClass:"mb-5",attrs:{label:"Event name",required:"",rules:[function(e){return!!e||"Event name is required"}]},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),t(m.a,{staticClass:"mb-5",attrs:{required:"",rules:[function(e){return!!e||"Password is required"}],"append-icon":e.passwordVisible?"mdi-eye":"mdi-eye-off",type:e.passwordVisible?"text":"password",label:"Password *",hint:"Authentication to open guest and setting page"},on:{"click:append":function(t){e.passwordVisible=!e.passwordVisible}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),t(c.a,[t(v.a),e._v(" "),t(r.a,{attrs:{color:"primary",text:"",disabled:!e.valid,type:"submit"}},[e._v("\n          Create Event\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports},222:function(e,t,n){"use strict";n(3);t.a=function(e,t){t("toBase64",(function(e){return new Promise((function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)}}))}))}},223:function(e,t,n){"use strict";var r=n(301);t.a=function(e,t){t("xlsx",r)}},224:function(e,t,n){"use strict";var r=n(302);t.a=function(e,t){t("createQR",(function(object,text,title,e){new r(object,{text:text,title:title,titleTop:15,titleFont:"bold 16px sans-serif",titleColor:"#000000",titleBackgroundColor:"#ffffff",titleHeight:50,subTitle:e,subTitleFont:"14px sans-serif",subTitleColor:"#000000",subTitleTop:35,width:400,height:400,colorDark:"#000000",colorLight:"#ffffff"})}))}},279:function(e,t,n){var content=n(369);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(19).default)("4d6a2e0f",content,!0,{sourceMap:!1})},305:function(e,t,n){"use strict";var r=n(487),o=n(493),c=n(488),d=n(230),l=n(216),f=n(40),v=n(495),m=n(490),h=n(478),w=n(491),x=n(213),_=n(214),k=n(143),y=n(212),E=n(70),R=n(492),$=n(481),C=n(494),V=n(489),D=n(477),O=n(475),S=n(300),j=(n(27),n(16)),L=(n(74),{name:"DefaultLayout",data:function(){return{passwordDialog:!1,changeTo:{},password:"",valid:!1,passwordVisible:!1,passwordError:null,items:[{icon:"mdi-apps",title:"Dashboard",to:"/"},{icon:"mdi-qrcode-scan",title:"Check In",to:"/checkin"},{icon:"mdi-account-group",title:"Guests",to:"/guest"},{icon:"mdi-cog",title:"Settings",to:"/settings"}]}},methods:{changeEvent:function(){var e=this;return Object(j.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("event/changeSelected",{_id:e.changeTo._id,password:e.password});case 2:!0===(n=t.sent)?(document.cookie="evtData=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/",window.location.href="."):(e.password="",e.passwordError=n);case 4:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(j.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.commit("navbar/loadLocalSettings");case 2:return t.next=4,e.$store.dispatch("event/loadSelected");case 4:return t.next=6,e.$store.dispatch("event/loadEvents");case 6:case"end":return t.stop()}}),t)})))()},computed:{drawer:{get:function(){return this.$store.state.navbar.drawer},set:function(e){this.$store.commit("navbar/toggleDrawer",e)}},miniVariant:{get:function(){return this.$store.state.navbar.miniVariant},set:function(e){this.$store.commit("navbar/toggleMiniVariant",e)}},events:function(){return this.$store.state.event.list},selectedEvent:function(){var e;return null!==(e=this.$store.state.event.selected)&&void 0!==e?e:{}}},components:{CreateEventDialog:n(217).default}}),N=n(85),component=Object(N.a)(L,(function(){var e=this,t=e._self._c;return t(r.a,{attrs:{dark:""}},[t(C.a,{attrs:{"mini-variant":e.miniVariant,fixed:"",app:""},scopedSlots:e._u([{key:"append",fn:function(){return[t(k.a,{on:{click:function(t){return t.stopPropagation(),e.$store.commit("navbar/toggleMiniVariant")}}},[t(y.a,[t(x.a,[e._v("mdi-"+e._s("chevron-".concat(e.miniVariant?"right":"left")))])],1),e._v(" "),t(E.a,[t(E.b,{domProps:{textContent:e._s(e.miniVariant?"Expand":"Collapse")}})],1)],1)]},proxy:!0}]),model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[t(_.a,e._l(e.items,(function(n,i){return t(k.a,{key:i,attrs:{to:n.to,router:"",exact:""}},[t(y.a,[t(x.a,[e._v(e._s(n.icon))])],1),e._v(" "),t(E.a,[t(E.b,{domProps:{textContent:e._s(n.title)}})],1)],1)})),1)],1),e._v(" "),t(o.a,{attrs:{fixed:"",app:""}},[t(c.a,{staticClass:"d-lg-none",on:{click:function(t){return t.stopPropagation(),e.$store.commit("navbar/toggleDrawer")}}}),e._v(" "),t(x.a,{staticClass:"d-none d-lg-inline",attrs:{left:""}},[e._v("mdi-package-variant")]),e._v(" "),t(S.a,{domProps:{textContent:e._s(e.selectedEvent.name)}}),e._v(" "),t(V.a),e._v(" "),null!==e.events?t("div",[e.events.length>0?t($.a,{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(n){var r=n.on,o=n.attrs;return[t(d.a,e._g(e._b({attrs:{icon:"",title:"Switch event"}},"v-btn",o,!1),r),[t(x.a,[e._v("mdi-dots-vertical")])],1)]}}],null,!1,2602745374)},[e._v(" "),t(_.a,{attrs:{shaped:""}},[t(D.a,[t(x.a,{staticClass:"mr-2",attrs:{color:"grey"}},[e._v("mdi-swap-horizontal")]),e._v("\n            CHANGE EVENTS\n          ")],1),e._v(" "),e._l(e.events,(function(n,r){return t(k.a,{key:r,attrs:{"input-value":n.selected},on:{click:function(t){t.stopPropagation(),e.passwordDialog=!0,e.changeTo=n}}},[t(E.b,[e._v("\n                "+e._s(n.name)+"\n              ")])],1)})),e._v(" "),t(h.a,{staticClass:"mt-2"}),e._v(" "),t(k.a,{staticClass:"mt-2"},[t("CreateEventDialog")],1)],2)],1):t("CreateEventDialog",{attrs:{persistent:!0,show:!0}})],1):e._e()],1),e._v(" "),t(m.a,{attrs:{"max-width":"400"},model:{value:e.passwordDialog,callback:function(t){e.passwordDialog=t},expression:"passwordDialog"}},[t(l.a,[t(w.a,{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.changeEvent.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(f.d,[e._v("\n          Enter event password\n        ")]),e._v(" "),t(f.b,[e._v("\n          "+e._s(e.changeTo.name)+"\n        ")]),e._v(" "),t(f.c,[t(O.a,{staticClass:"mb-5",attrs:{required:"",rules:[function(t){var n;return!!t||(null!==(n=e.passwordError)&&void 0!==n?n:"Password is required")}],"append-icon":e.passwordVisible?"mdi-eye":"mdi-eye-off",type:e.passwordVisible?"text":"password",label:"Password"},on:{keyup:function(t){e.passwordError=null},"click:append":function(t){e.passwordVisible=!e.passwordVisible}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),t(f.a,[t(V.a),e._v(" "),t(d.a,{attrs:{color:"primary",disabled:!e.valid,type:"submit"}},[e._v("\n            Change event\n          ")])],1)],1)],1)],1),e._v(" "),t(R.a,[t(v.a,[t("Nuxt")],1)],1)],1)}),[],!1,null,null,null);t.a=component.exports;installComponents(component,{CreateEventDialog:n(217).default})},321:function(e,t,n){n(322),e.exports=n(323)},368:function(e,t,n){"use strict";n(279)},369:function(e,t,n){var r=n(18)(!1);r.push([e.i,"h1[data-v-35e10596]{font-size:20px}",""]),e.exports=r},372:function(e,t,n){var content=n(373);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(19).default)("d8b49050",content,!0,{sourceMap:!1})},373:function(e,t,n){var r=n(18),o=n(374),c=n(375),d=r(!1),l=o(c);d.push([e.i,'@font-face{font-family:"Montserrat";src:local("Montserrat"),url('+l+') format("truetype")}',""]),e.exports=d},375:function(e,t,n){e.exports=n.p+"fonts/Montserrat-VariableFont_wght.3faa3ee.ttf"},452:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return o})),n.d(t,"mutations",(function(){return c})),n.d(t,"actions",(function(){return d}));var r=n(16),o=(n(27),n(74),function(){return{selected:null,list:null}}),c={setList:function(e,t){e.list=t},setSelected:function(e,t){e.selected=t}},d={loadEvents:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("event.php");case 2:200==(n=e.sent).code&&t.commit("event/setList",n.data);case 4:case"end":return e.stop()}}),e)})))()},changeSelected:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t._id,o=t.password,!r){e.next=6;break}return e.next=4,n.$axios.$patch("event.php",{_id:r,password:o});case 4:return c=e.sent,e.abrupt("return",200==c.code||c.message);case 6:return e.abrupt("return","Unable to change event");case 7:case"end":return e.stop()}}),e)})))()},addEvent:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.name,o=t.password,!r||!o){e.next=6;break}return e.next=4,n.$axios.$post("event.php",{name:r,password:o});case 4:return c=e.sent,e.abrupt("return",200==c.code||c.message);case 6:return e.abrupt("return","Please specify name and password");case 7:case"end":return e.stop()}}),e)})))()},updateEvent:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._id){e.next=5;break}return e.next=3,n.$axios.$put("event.php",t);case 3:return r=e.sent,e.abrupt("return",200==r.code||r.message);case 5:return e.abrupt("return","No event selected");case 6:case"end":return e.stop()}}),e)})))()},deleteEvent:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t._id)){e.next=6;break}return e.next=4,n.$axios.$delete("event.php?_id="+r);case 4:return o=e.sent,e.abrupt("return",200==o.code||o.message);case 6:return e.abrupt("return","No event selected");case 7:case"end":return e.stop()}}),e)})))()},loadSelected:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("event.php?selected");case 2:200==(n=e.sent).code&&t.commit("event/setSelected",n.data);case 4:case"end":return e.stop()}}),e)})))()}}},453:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return o})),n.d(t,"mutations",(function(){return c})),n.d(t,"actions",(function(){return d}));var r=n(16),o=(n(74),function(){return{list:[],columns:[]}}),c={setList:function(e,t){e.list=t},setColumns:function(e,t){e.columns=t}},d={loadGuests:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,col;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("guest.php");case 2:if(200==(n=e.sent).code){for(col in r=[],n.data.columns)r.push({value:col,text:n.data.columns[col]});t.commit("guest/setList",n.data.rows),t.commit("guest/setColumns",r)}case 4:case"end":return e.stop()}}),e)})))()},importGuests:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0)){e.next=5;break}return e.next=3,n.$axios.$put("guest.php",t);case 3:return r=e.sent,e.abrupt("return",200==r.code||r.message);case 5:return e.abrupt("return","Please specify guest");case 6:case"end":return e.stop()}}),e)})))()},addGuest:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.$axios.post("guest.php",t);case 2:return r=e.sent,e.abrupt("return",200==r.data.code||r.data.message);case 4:case"end":return e.stop()}}),e)})))()},editGuest:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._id){e.next=5;break}return e.next=3,n.$axios.patch("guest.php",t);case 3:return r=e.sent,e.abrupt("return",200==r.data.code||r.data.message);case 5:return e.abrupt("return","Please select a guest");case 6:case"end":return e.stop()}}),e)})))()},deleteGuest:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t._id)){e.next=6;break}return e.next=4,n.$axios.delete("guest.php?id="+r);case 4:return o=e.sent,e.abrupt("return",200==o.data.code||o.data.message);case 6:case"end":return e.stop()}}),e)})))()},cloneGuests:function(e,t,n){var o=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.$axios.put("guest.php",{cloneEventId:t,regenerate:n});case 2:return r=e.sent,e.abrupt("return",200==r.data.code||r.data.message);case 4:case"end":return e.stop()}}),e)})))()},checkIn:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.checkin_code,o=t.manual,e.next=3,n.$axios.post("checkin.php",{_checkin_code:r,manual:null!=o&&o});case 3:return c=e.sent,e.abrupt("return",{success:200==c.data.code,data:200==c.data.code?c.data.data:c.data.message});case 5:case"end":return e.stop()}}),e)})))()}}},454:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"mutations",(function(){return o}));var r=function(){return{drawer:!1,miniVariant:!1}},o={toggleDrawer:function(e,t){e.drawer=null!=t?t:!e.drawer,t||this.commit("navbar/saveLocalSettings")},toggleMiniVariant:function(e,t){e.miniVariant=null!=t?t:!e.miniVariant,t||this.commit("navbar/saveLocalSettings")},saveLocalSettings:function(e){var t={drawer:e.drawer,miniVariant:e.miniVariant};localStorage.setItem("navbar",JSON.stringify(t))},loadLocalSettings:function(e){var t=JSON.parse(localStorage.getItem("navbar"));t&&(t.drawer&&(e.drawer=t.drawer),t.miniVariant&&(e.miniVariant=t.miniVariant))}}},473:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=473},94:function(e,t,n){"use strict";var r=n(487),o={name:"EmptyLayout",layout:"empty",props:{error:{type:Object,default:null}},data:function(){return{pageNotFound:"404 Not Found",otherError:"An error occurred"}},head:function(){return{title:404===this.error.statusCode?this.pageNotFound:this.otherError}}},c=(n(368),n(85)),component=Object(c.a)(o,(function(){var e=this,t=e._self._c;return t(r.a,{attrs:{dark:""}},[404===e.error.statusCode?t("h1",[e._v("\n    "+e._s(e.pageNotFound)+"\n  ")]):t("h1",[e._v("\n    "+e._s(e.otherError)+"\n  ")]),e._v(" "),t("NuxtLink",{attrs:{to:"/"}},[e._v("\n    Home page\n  ")])],1)}),[],!1,null,"35e10596",null);t.a=component.exports}},[[321,9,3,10]]]);